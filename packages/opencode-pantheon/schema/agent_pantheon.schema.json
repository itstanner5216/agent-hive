{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://raw.githubusercontent.com/itstanner5216/agent-hive/main/packages/opencode-pantheon/schema/agent_pantheon.schema.json",
  "title": "Pantheon Configuration",
  "description": "Configuration schema for ~/.config/opencode/agent_pantheon.json",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "$schema": {
      "type": "string",
      "description": "Schema reference for this config file"
    },
    "sandbox": {
      "type": "string",
      "enum": ["none", "docker"],
      "default": "none",
      "description": "Sandbox isolation mode. 'none' runs commands directly; 'docker' wraps bash commands in Docker containers."
    },
    "dockerImage": {
      "type": "string",
      "description": "Docker image to use for sandbox. Auto-detected from project files if omitted (e.g., node:22-slim for Node.js projects)."
    },
    "persistentContainers": {
      "type": "boolean",
      "default": true,
      "description": "Reuse Docker containers per worktree (docker exec) instead of creating new ones per command (docker run --rm). Default: true when sandbox is 'docker'."
    },
    "enableToolsFor": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Enable pantheon tools for specific features"
    },
    "disableSkills": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Globally disable specific skills (e.g., ['brainstorming', 'writing-plans']). Disabled skills won't appear in pantheon_skill tool."
    },
    "disableMcps": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Globally disable specific MCP servers (e.g., ['websearch', 'ast_grep']). Available: websearch, context7, grep_app, ast_grep"
    },
    "omoSlimEnabled": {
      "type": "boolean",
      "default": false,
      "description": "Enable OMO-Slim delegation for background task execution."
    },
    "agentMode": {
      "type": "string",
      "enum": [
        "full",
        "core",
        "lean"
      ],
      "default": "full",
      "description": "Agent mode. 'full' (default) = all 10 agents; 'core' = 6 pipeline agents; 'lean' = 4 essential agents."
    },
    "hook_cadence": {
      "type": "object",
      "description": "Hook execution cadence configuration. Key = hook name, Value = number of turns between invocations (1 = every turn, 3 = every 3rd turn). All hooks default to 1.",
      "additionalProperties": {
        "type": "integer",
        "minimum": 1,
        "description": "Number of turns between hook invocations"
      },
      "examples": [
        {
          "experimental.chat.system.transform": 3,
          "chat.message": 1,
          "tool.execute.before": 1
        }
      ]
    },
    "agents": {
      "type": "object",
      "description": "Agent model configuration overrides",
      "additionalProperties": false,
      "properties": {
        "enlil-validator": {
          "$ref": "#/$defs/agentConfig",
          "description": "Enlil - Plan Validator"
        },
        "enki-planner": {
          "$ref": "#/$defs/agentConfig",
          "description": "Enki - Planner (Architect)"
        },
        "marduk-orchestrator": {
          "$ref": "#/$defs/agentConfig",
          "description": "Marduk - Orchestrator"
        },
        "adapa-explorer": {
          "$ref": "#/$defs/agentConfig",
          "description": "Adapa - Explorer / Researcher"
        },
        "kulla-coder": {
          "$ref": "#/$defs/agentConfig",
          "description": "Kulla - Coder (Worker)"
        },
        "nanshe-reviewer": {
          "$ref": "#/$defs/agentConfig",
          "description": "Nanshe - Code Reviewer"
        },
        "enbilulu-tester": {
          "$ref": "#/$defs/agentConfig",
          "description": "Enbilulu - Tester"
        },
        "mushdamma-phase-reviewer": {
          "$ref": "#/$defs/agentConfig",
          "description": "Mushdamma - Phase Reviewer"
        },
        "isimud-ideator": {
          "$ref": "#/$defs/agentConfig",
          "description": "Isimud - Idea Architect"
        },
        "asalluhi-prompter": {
          "$ref": "#/$defs/agentConfig",
          "description": "Asalluhi - Prompt Engineer"
        }
      }
    }
  },
  "$defs": {
    "agentConfig": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "model": {
          "type": "string",
          "description": "Model to use (provider/model-id)"
        },
        "temperature": {
          "type": "number",
          "minimum": 0,
          "maximum": 2,
          "description": "Sampling temperature"
        },
        "skills": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Skills enabled for this agent"
        },
        "autoLoadSkills": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Skills to auto-load for this agent"
        },
        "variant": {
          "type": "string",
          "description": "Variant key for model reasoning/effort level (e.g., 'low', 'medium', 'high', 'max'). Must match a key in opencode.json provider.<provider>.models.<model>.variants"
        }
      }
    }
  }
}
